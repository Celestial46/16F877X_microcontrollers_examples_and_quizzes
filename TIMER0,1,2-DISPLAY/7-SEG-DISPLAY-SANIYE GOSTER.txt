#INCLUDE <P16F877A.INC>
__CONFIG H'3F31'
TMRSAYAC EQU 0X20
SYC0 EQU 0X21
SYC1 EQU 0X22
SAYIL EQU 0X23
SAYIH EQU 0X24

	ORG 0X00
	GOTO MAIN
	ORG 0X04
KESME
	BANKSEL PIR1
	BCF PIR1,TMR1IF
	DECFSZ TMRSAYAC,F
	RETFIE
	MOVLW H'3C'
	MOVWF TMR1H
	MOVLW H'B0'
	MOVWF TMR1L
	MOVLW D'10'
	MOVWF TMRSAYAC
ISLE
	
	MOVFW SAYIL
	SUBLW D'9'
	BTFSS STATUS,Z
	GOTO YAK
	INCF SAYIH
	MOVFW SAYIH
	SUBLW D'2'
	BTFSC STATUS,Z
	GOTO SIFIRLA
	
	
	CLRF SAYIL
	RETFIE
SIFIRLA
	CLRF SAYIH
	CLRF SAYIL
	RETFIE
YAK
	INCF SAYIL
	RETFIE
GECIKME
	MOVLW D'20'
	MOVWF SYC0
GECIKME1
	MOVLW D'255'
	MOVWF SYC1
GECIKTIR
	DECFSZ SYC1,F
	GOTO GECIKTIR
	DECFSZ SYC0,F
	GOTO GECIKME1
	RETURN
LOOKUP
	ADDWF PCL,F
	RETLW B'11000000'
	RETLW B'11111001'
	RETLW B'10100100'
	RETLW B'10110000'
	RETLW B'10011001'
	RETLW B'10010010'
	RETLW B'10000011'
	RETLW B'11111000'
	RETLW B'10000000'
	RETLW B'10011000'
	RETURN

MAIN
	BANKSEL ADCON1
	MOVLW D'6'
	MOVWF ADCON1
	BANKSEL TRISA
	BCF TRISA,0
	BCF TRISA,1
	CLRF TRISB
	BANKSEL PORTA
	CLRF PORTA
	CLRF PORTB
	BANKSEL INTCON
	MOVLW B'11000000'
	MOVWF INTCON
	BANKSEL PIE1
	BSF PIE1,TMR1IE
	BANKSEL PIR1
	BCF PIR1,TMR1IF
	BANKSEL T1CON
	MOVLW B'00010001'
	MOVWF T1CON
	BANKSEL TMR1H
	MOVLW H'3C'
	MOVWF TMR1H
	MOVLW H'B0'
	MOVWF TMR1L
	MOVLW D'10'
	MOVWF TMRSAYAC
	
DONGU
	BCF PORTA,1
	BSF PORTA,0
	MOVFW SAYIH
	CALL LOOKUP
	MOVWF PORTB
	CALL GECIKME
	BCF PORTA,0
	BSF PORTA,1
	MOVFW SAYIL
	CALL LOOKUP
	MOVWF PORTB
	CALL GECIKME
	GOTO DONGU
	END